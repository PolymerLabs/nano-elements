<style>nano-layer,nano-scrim{position:fixed;top:0;right:0;bottom:0;left:0;background-color:transparent;transition:opacity .1s}nano-scrim{Xpointer-events:none;background-color:#000}nano-box{position:absolute;opacity:1;pointer-events:none;background-color:#fff;transition:transform .2s ease-in-out;transform-origin:0 0;width:200px;height:200px}</style>

<script>!function(){"use strict";var t=[],e=function(t,e){t.style.webkitTransform=t.style.transform=e},n=function(t,e,n,o){return"translate3d("+t+","+e+","+n+") "},o=function(t,e,n){return"scale("+t+","+e+") "},r=function(t,e,n){setTimeout(e.bind(n),void 0!==t?t:1)};document.registerElement("nano-layers",{prototype:{__proto__:HTMLElement.prototype,open:function(e){var n=document.createElement("nano-layer");n.addEventListener("touchmove",function(t){t.preventDefault()}),n.addEventListener("wheel",function(t){t.preventDefault()}),e&&(n.style.backgroundColor=e),n.style.opacity=0,r(1,function(){n.style.opacity=1}),this.appendChild(n);var o={layer:n};return t.push(o),o},close:function(e){var n=t.pop();n&&(n.layer.style.opacity=0,r(Math.max(300,e||0),function(){n.layer.remove()}))}}}),document.registerElement("nano-animated-box",{prototype:{__proto__:HTMLElement.prototype,createdCallback:function(){},animate:function(t,a,i){var l=this.box=document.createElement("nano-box");return l.style.width=a.width+"px",l.style.height=a.height+"px",e(l,n(a.left+"px",a.top+"px",0,l)+o(1,1)),t.layer.appendChild(l),r(1,function(){var t=i.width/(a.width||1),r=i.height/(a.height||1);e(l,n(i.left+"px",i.top+"px",0,l)+o(t,r))}),l}}})}();</script>