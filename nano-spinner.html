<dom-module id="nano-spinner">
  <style>nano-spinner .circle,nano-spinner .gap-patch{box-sizing:border-box;top:0;border-color:inherit}nano-spinner{display:inline-block;position:relative;width:28px;height:28px}nano-spinner #spinnerContainer{width:100%;height:100%;direction:ltr}nano-spinner #spinnerContainer.active{-webkit-animation:container-rotate 1568ms linear infinite;animation:container-rotate 1568ms linear infinite}@-webkit-keyframes container-rotate{to{-webkit-transform:rotate(360deg)}}@keyframes container-rotate{to{transform:rotate(360deg)}}nano-spinner .spinner-layer{position:absolute;width:100%;height:100%;opacity:0;white-space:nowrap;border-color:#2196F3}nano-spinner .active .spinner-layer{-webkit-animation:fill-unfill-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both;animation:fill-unfill-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both;opacity:1}@-webkit-keyframes fill-unfill-rotate{12.5%{-webkit-transform:rotate(135deg)}25%{-webkit-transform:rotate(270deg)}37.5%{-webkit-transform:rotate(405deg)}50%{-webkit-transform:rotate(540deg)}62.5%{-webkit-transform:rotate(675deg)}75%{-webkit-transform:rotate(810deg)}87.5%{-webkit-transform:rotate(945deg)}to{-webkit-transform:rotate(1080deg)}}@keyframes fill-unfill-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}to{transform:rotate(1080deg)}}nano-spinner .gap-patch{position:absolute;left:45%;width:10%;height:100%;overflow:hidden}nano-spinner .gap-patch .circle{width:1000%;left:-450%}nano-spinner .circle-clipper{display:inline-block;position:relative;width:50%;height:100%;overflow:hidden;border-color:inherit}nano-spinner .circle-clipper .circle{width:200%}nano-spinner .circle{height:100%;border-width:3px;border-style:solid;border-bottom-color:transparent!important;border-radius:50%;-webkit-animation:none;animation:none;position:absolute;right:0;bottom:0;left:0}nano-spinner .circle-clipper.left .circle{border-right-color:transparent!important;-webkit-transform:rotate(129deg);transform:rotate(129deg)}nano-spinner .circle-clipper.right .circle{left:-100%;border-left-color:transparent!important;-webkit-transform:rotate(-129deg);transform:rotate(-129deg)}nano-spinner .active .circle-clipper.left .circle{-webkit-animation:left-spin 1333ms cubic-bezier(.4,0,.2,1) infinite both;animation:left-spin 1333ms cubic-bezier(.4,0,.2,1) infinite both}nano-spinner .active .circle-clipper.right .circle{-webkit-animation:right-spin 1333ms cubic-bezier(.4,0,.2,1) infinite both;animation:right-spin 1333ms cubic-bezier(.4,0,.2,1) infinite both}@-webkit-keyframes left-spin{from,to{-webkit-transform:rotate(130deg)}50%{-webkit-transform:rotate(-5deg)}}@keyframes left-spin{from,to{transform:rotate(130deg)}50%{transform:rotate(-5deg)}}@-webkit-keyframes right-spin{from,to{-webkit-transform:rotate(-130deg)}50%{-webkit-transform:rotate(5deg)}}@keyframes right-spin{from,to{transform:rotate(-130deg)}50%{transform:rotate(5deg)}}nano-spinner #spinnerContainer.cooldown{-webkit-animation:container-rotate 1568ms linear infinite,fade-out .4s cubic-bezier(.4,0,.2,1);animation:container-rotate 1568ms linear infinite,fade-out .4s cubic-bezier(.4,0,.2,1)}@-webkit-keyframes fade-out{from{opacity:.99}to{opacity:0}}@keyframes fade-out{from{opacity:.99}to{opacity:0}}</style>
  <template>
    <div id="spinnerContainer">
      <div class="spinner-layer">
        <div class="circle-clipper left">
          <div class="circle"></div>
        </div><div class="gap-patch">
          <div class="circle"></div>
        </div><div class="circle-clipper right">
          <div class="circle"></div>
        </div>
      </div>
    </div>
  </template>
  <script>document.registerElement("nano-spinner",{prototype:{__proto__:HTMLElement.prototype,createdCallback:function(){this.dom=Nano.prepare("nano-spinner").stamp(this);var t=this._reset.bind(this);this.addEventListener("animationend",t),this.addEventListener("webkitAnimationEnd",t),Nano.acquire(this,"active")},set active(t){var e=this._active;this._active=t=t||""===t,this._computeClasses(t,!t&&e)},_reset:function(){this._active=!1,this._computeClasses(!1,!1)},_computeClasses:function(t,e){this.querySelector("#spinnerContainer").className=[t||e?"active":"",e?"cooldown":""].join(" ")}}});</script> 
</dom-module>